import{_ as s,c as a,o as n,a as l}from"./app.437f86da.js";const D=JSON.parse('{"title":"Mapbox\u5F00\u53D1\u6574\u4F53\u6D41\u7A0B","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.\u5F15\u5165Mapbox","slug":"_1-\u5F15\u5165mapbox","link":"#_1-\u5F15\u5165mapbox","children":[]},{"level":2,"title":"2.\u6DFB\u52A0\u5730\u56FE","slug":"_2-\u6DFB\u52A0\u5730\u56FE","link":"#_2-\u6DFB\u52A0\u5730\u56FE","children":[]},{"level":2,"title":"3.\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B","slug":"_3-\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B","link":"#_3-\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B","children":[]},{"level":2,"title":"4.\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B","slug":"_4-\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B","link":"#_4-\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B","children":[]},{"level":2,"title":"3.\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42","slug":"_3-\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42","link":"#_3-\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42","children":[]},{"level":2,"title":"4.\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90","slug":"_4-\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90","link":"#_4-\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90","children":[]},{"level":2,"title":"5.\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E","slug":"_5-\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E","link":"#_5-\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E","children":[]},{"level":2,"title":"6.\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F","slug":"_6-\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F","link":"#_6-\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F","children":[]},{"level":2,"title":"7.\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6","slug":"_7-\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6","link":"#_7-\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6","children":[]},{"level":2,"title":"8.\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6","slug":"_8-\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6","link":"#_8-\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6","children":[]},{"level":2,"title":"9.\u53C2\u8003","slug":"_9-\u53C2\u8003","link":"#_9-\u53C2\u8003","children":[]}],"relativePath":"articles/map-dev/mapbox\u5730\u56FE\u5F00\u53D1\u6D41\u7A0B.md"}'),p={name:"articles/map-dev/mapbox\u5730\u56FE\u5F00\u53D1\u6D41\u7A0B.md"},e=l(`<h1 id="mapbox\u5F00\u53D1\u6574\u4F53\u6D41\u7A0B" tabindex="-1">Mapbox\u5F00\u53D1\u6574\u4F53\u6D41\u7A0B <a class="header-anchor" href="#mapbox\u5F00\u53D1\u6574\u4F53\u6D41\u7A0B" aria-hidden="true">#</a></h1><h2 id="_1-\u5F15\u5165mapbox" tabindex="-1">1.\u5F15\u5165Mapbox <a class="header-anchor" href="#_1-\u5F15\u5165mapbox" aria-hidden="true">#</a></h2><p>\u4EE5\u7B80\u5355\u7684\u4E00\u4E2Ahtml\u4E3A\u4F8B\uFF0C\u9996\u5148\u5F15\u5165mapbox-gl.js\u4EE5\u53CAcss\u6587\u4EF6\uFF0C\u5982\u679C\u662F\u5728angular\u9879\u76EE\u4E2D\uFF0C\u5219\u9700\u8981\u5B89\u88C5\u5BF9\u5E94\u7684npm\u5305\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">&lt;script src=&#39;https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.1/mapbox-gl.js&#39;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;link href=&#39;https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.1/mapbox-gl.css&#39; rel=&#39;stylesheet&#39;/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="_2-\u6DFB\u52A0\u5730\u56FE" tabindex="-1">2.\u6DFB\u52A0\u5730\u56FE <a class="header-anchor" href="#_2-\u6DFB\u52A0\u5730\u56FE" aria-hidden="true">#</a></h2><p>\u9996\u5148\u9700\u8981\u521B\u5EFA\u4E00\u4E2Aid\u5047\u8BBE\u4E3Amap\u7684div\u5BB9\u5668\uFF0C\u5E76\u6307\u5B9A\u5BBD\u9AD8\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">var map = new mapboxgl.Map({</span></span>
<span class="line"><span style="color:#A6ACCD;">  // container id</span></span>
<span class="line"><span style="color:#A6ACCD;">   container:&#39;map&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  // style location</span></span>
<span class="line"><span style="color:#A6ACCD;">   style:&#39;mapbox://styles/mapbox/streets-&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  // starting position</span></span>
<span class="line"><span style="color:#A6ACCD;">   center:[-74.50, 40],</span></span>
<span class="line"><span style="color:#A6ACCD;">  zoom:9</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u8FD9\u6837\u5C31\u901A\u8FC7mapbox\u7684Map\u7C7B\u521B\u5EFA\u4E86\u4E00\u4E2A\u57FA\u7840\u5730\u56FE\uFF0C\u901A\u5E38\u8FD9\u4E9B\u914D\u7F6E\u4FE1\u606F\u90FD\u4ECE\u540E\u53F0\u63A5\u53E3\u83B7\u53D6\u3002</p><h2 id="_3-\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B" tabindex="-1">3.\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B <a class="header-anchor" href="#_3-\u521B\u5EFA\u56FE\u5C42\u7236\u7C7B" aria-hidden="true">#</a></h2><p>\xA0\xA0\xA0\xA0\u5145\u5206\u5229\u7528\u9762\u5411\u5BF9\u8C61\u601D\u60F3\uFF0C\u9996\u5148\u5C01\u88C5\u4E00\u4E2A\u57FA\u7840\u7236\u7C7B\uFF0C\u7531\u4E8E\u6211\u4EEC\u5927\u90E8\u5206\u7684\u90FD\u662F\u70B9\u56FE\u5C42\uFF0Ctype\u4E3Asymbol\uFF08\u53EA\u9700\u8981\u4F20\u5165\u56FE\u5C42id\u548C\u5BF9\u5E94\u7684\u56FE\u6807\uFF09\uFF0C\u5E76\u53EF\u4EE5\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u5982\u679C\u662F\u5176\u4ED6\u7C7B\u578B\u7684\u56FE\u5C42\uFF0C\u5219\u5355\u72EC\u5728\u5B50\u7C7B\u4E2D\u521B\u5EFA\uFF0C\u7EDF\u4E00\u5728\u7236\u7C7B\u91CC\u9762\u6DFB\u52A0\u5230\u5730\u56FE\uFF0C\u6B64\u5916\uFF0C\u8FD8\u5305\u542B\u8BF8\u5982\u521D\u59CB\u5316\u8FC7\u7A0B\uFF08\u589E\u52A0\u56FE\u5C42\uFF0C\u589E\u52A0\u56FE\u6807\uFF09\uFF0C\u63A7\u5236\u56FE\u5C42\u663E\u793A\u9690\u85CF\uFF0C\u521B\u5EFA\u9500\u6BC1\uFF0C\u56FE\u5C42\u8BBE\u7F6E\u6570\u636E\u6E90\u7B49\u65B9\u6CD5\u3002 \u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">constructor(id,layers,icon){</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.id=id</span></span>
<span class="line"><span style="color:#A6ACCD;">    //\u5982\u679Clayers\u4E0D\u662F\u4E2A\u6570\u7EC4\uFF0C\u5219\u8868\u793A\u662F\u666E\u901A\u70B9\u7C7B\u578B\u7684layer</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!(this.layers instanceof array)){</span></span>
<span class="line"><span style="color:#A6ACCD;">     this.layers = [</span></span>
<span class="line"><span style="color:#A6ACCD;">        {</span></span>
<span class="line"><span style="color:#A6ACCD;">          id: layers,</span></span>
<span class="line"><span style="color:#A6ACCD;">          type: &quot;symbol&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">          layout: {...},</span></span>
<span class="line"><span style="color:#A6ACCD;">          paint: {...},</span></span>
<span class="line"><span style="color:#A6ACCD;">          source: {</span></span>
<span class="line"><span style="color:#A6ACCD;">            type: &quot;geojson&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">            data: {</span></span>
<span class="line"><span style="color:#A6ACCD;">              type: &quot;FeatureCollection&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">              features: []</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">          }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      ];</span></span>
<span class="line"><span style="color:#A6ACCD;">    }else{ //\u5426\u5219\u5C31\u662F\u5176\u4ED6\u7C7B\u578B\u7684layer</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.layers=layers</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.icon=icon</span></span>
<span class="line"><span style="color:#A6ACCD;">   ...</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    init(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setVisible(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    destroy(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setData(){}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="_4-\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B" tabindex="-1">4.\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B <a class="header-anchor" href="#_4-\u521B\u5EFA\u56FE\u5C42\u5B50\u7C7B" aria-hidden="true">#</a></h2><p>\xA0\xA0\xA0\xA0\u5F52\u7EB3\u6709\u591A\u5C11\u4E2A\u56FE\u5C42\uFF0C\u7531\u4E8ETypeScript\u4E0D\u652F\u6301\u591A\u5C42\u7EE7\u627F\uFF0C\u56E0\u6B64\u5EFA\u8BAE\u6BCF\u4E00\u4E2A\u56FE\u5C42\u90FD\u72EC\u7ACB\u521B\u9020\u4E00\u4E2A\u7C7B\u7EE7\u627F\u7236\u7C7B\uFF0C\u6839\u636E\u4E1A\u52A1\u4E0D\u540C\u91CD\u5199\u7236\u7C7B\u7684\u65B9\u6CD5\u4EE5\u53CA\u589E\u52A0\u5176\u4ED6\u65B9\u6CD5\u3002 \u56FE\u5C42\u4E3B\u8981\u5206\u4E3A</p><ul><li>\u57FA\u7840\u56FE\u5C42\uFF0C\u662F\u6784\u6210\u5730\u56FE\u57FA\u7840\u7684\u56FE\u50CF\u5207\u7247\uFF0C\u901A\u5E38\u5305\u542B\u5927\u91CF\u6570\u636E\u2014\u2014\u5305\u62EC\u6807\u6CE8\u3001\u5EFA\u7B51\u7B49\u3002</li><li>\u53E0\u52A0\u56FE\u5C42\uFF0C\u4F8B\u5982\u70B9\u3001\u7EBF\u3001\u9762\uFF0C\u901A\u5E38\u5305\u62ECGeoJSON\u4E4B\u7C7B\u7684\u77E2\u91CF\u6570\u636E\uFF0C\u5305\u542B\u7684\u4FE1\u606F\u66F4\u5C11\uFF0C\u4F46\u901A\u5E38\u6211\u4EEC\u90FD\u662F\u4E0E\u8FD9\u4E9B\u56FE\u5C42\u8FDB\u884C\u4EA4\u4E92\uFF0C\u53EF\u968F\u610F\u7684\u7528js\u8FDB\u884C\u66F4\u6539\u3002 \u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A\u5395\u6240\u70B9\u56FE\u5C42toiletLayer\u7C7B,</li></ul><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">constructor(id,layers,icon){</span></span>
<span class="line"><span style="color:#A6ACCD;">    super(&#39;toilet&#39;,&#39;&#39;,&#39;assets/img/1.png&#39;,)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    addLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    addImage(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setVisible(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    initLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    destroyLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setData(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...\u5176\u4ED6\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u518D\u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A\u666F\u533A\u9762\u56FE\u5C42ScenicLayer\u7C7B\uFF0C\u5219\u9700\u8981\u5728\u5185\u90E8\u58F0\u660Elayer\uFF0Ctype\u4E3Afill</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">constructor(id,layers,icon){</span></span>
<span class="line"><span style="color:#A6ACCD;">    super(&#39;scenic&#39;,[</span></span>
<span class="line"><span style="color:#A6ACCD;">        {</span></span>
<span class="line"><span style="color:#A6ACCD;">          id: &#39;tb_basis_info_polygon&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">          type: &#39;fill&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">          layout: {},</span></span>
<span class="line"><span style="color:#A6ACCD;">          minzoom: 8,</span></span>
<span class="line"><span style="color:#A6ACCD;">          maxzoom: 24,</span></span>
<span class="line"><span style="color:#A6ACCD;">          source: {</span></span>
<span class="line"><span style="color:#A6ACCD;">            type: &#39;geojson&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">            data: {</span></span>
<span class="line"><span style="color:#A6ACCD;">              type: &#39;FeatureCollection&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">              features: []</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">          },</span></span>
<span class="line"><span style="color:#A6ACCD;">          paint: {</span></span>
<span class="line"><span style="color:#A6ACCD;">            &#39;fill-color&#39;: &#39;rgb(255,255,255)&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">            &#39;fill-opacity&#39;: 0.08</span></span>
<span class="line"><span style="color:#A6ACCD;">          }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }]</span></span>
<span class="line"><span style="color:#A6ACCD;">        ,&#39;assets/img/1.png&#39;,)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    addLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    addImage(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setVisible(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    initLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    destroyLayer(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;">    setData(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...\u5176\u4ED6\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>source\u6570\u636E\u6E90\u548Cstyle\u5C5E\u6027\u4F1A\u5728\u540E\u9762\u63D0\u5230\u3002</p><h2 id="_3-\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42" tabindex="-1">3.\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42 <a class="header-anchor" href="#_3-\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u540E\u52A0\u8F7D\u56FE\u5C42" aria-hidden="true">#</a></h2><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">map.on(&#39;load&#39;, function() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  map.addLayer(.....);</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u5F53\u4E14\u4EC5\u5F53\u5730\u56FE\u6570\u636E\u6E90\u52A0\u8F7D\u4E4B\u540E\uFF08\u5305\u62EC\u5730\u56FE\u6837\u5F0F\uFF09\uFF0C\u5730\u56FE\u5F15\u64CE\u63D0\u4F9B\u4E00\u4E2A\u52A0\u8F7D\u5B8C\u6210\u540E\u7684\u56DE\u8C03\u4E8B\u4EF6\uFF0C\u901A\u77E5\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\uFF0C\u4E4B\u540E\u624D\u53EF\u4EE5\u8FDB\u884C\u52A0\u8F7D\u56FE\u5C42\u7B49\u4E00\u7CFB\u5217\u4E1A\u52A1\u64CD\u4F5C\u3002</p><h2 id="_4-\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90" tabindex="-1">4.\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90 <a class="header-anchor" href="#_4-\u7ED9\u56FE\u5C42\u6DFB\u52A0\u6570\u636E\u6E90" aria-hidden="true">#</a></h2><p>\u6DFB\u52A0\u65B0\u56FE\u5C42\u65F6\u9700\u8981\u6DFB\u52A0\u6570\u636E\u6E90\uFF0C\u56FE\u5C42\u6570\u636E\u6E90\u5305\u62ECtype\u548Curl\uFF0C\u56E0\u6B64\uFF0C\u65E2\u652F\u6301\u8FDC\u7A0B\u6570\u636E\u6E90\uFF0C\u4E5F\u652F\u6301 \u4ECE\u540E\u53F0\u83B7\u53D6\uFF08\u901A\u5E38\u7528\u8FD9\u79CD\u65B9\u5F0F\uFF0C\u7075\u6D3B\u53EF\u62D3\u5C55\uFF09\uFF0C\u8FD9\u79CD\u65B9\u6CD5\u901A\u5E38\u662FGeoJSON\u683C\u5F0F\u7684\u6570\u636E\u3002 \u6807\u51C6\u7684geojson\u6570\u636E\u683C\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">const geoJson={</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;type&quot;: &quot;FeatureCollection&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;features&quot;: [</span></span>
<span class="line"><span style="color:#A6ACCD;">        {</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;type&quot;:&quot;Feature&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;properties&quot;:{},</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;geometry&quot;:{</span></span>
<span class="line"><span style="color:#A6ACCD;">            &quot;type&quot;:&quot;Point&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">            &quot;coordinates&quot;:[105.380859375,31.57853542647338]</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5176\u4E2D\uFF0Cfeatures\u91CC\u9762\u662F\u6211\u4EEC\u9700\u8981\u7684\u8981\u7D20\u4FE1\u606F\uFF0Cgeometry\u91CC\u9762\u662F\u5730\u7406\u4FE1\u606F\uFF0Cproperties\u5219\u662F\u4E00\u4E9B\u540D\u79F0\u7B49\u57FA\u672C\u4FE1\u606F\u3002\u53EF\u4EE5\u5728\u5B9A\u4E49\u56FE\u5C42\u7684\u65F6\u5019\uFF0C\u914D\u7F6Esource\uFF0C\u4E5F\u53EF\u4EE5\u7528\u5982\u4E0B\u529E\u6CD5\u7075\u6D3B\u6539\u53D8\u6570\u636E\u6E90\uFF0C\u5982\u8981\u8BBE\u7F6E\u521A\u624D\u666F\u70B9\u56FE\u5C42\u7684\u6570\u636E\u6E90\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">setData(){</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.map.getSource(&#39;tb_basis_info_polygon&#39;).setData(data)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u53EF\u901A\u8FC7getSource(layerId)\u7684\u65B9\u6CD5\u83B7\u5F97\u8FD9\u4E2Alayer\u7684source\uFF0C\u518D\u91CD\u65B0\u8D4B\u503C\uFF0C\u4F46\u901A\u5E38\u53EA\u8D4B\u503C\u4E00\u6B21\uFF0C\u56E0\u4E3A\u8FD9\u4E2A\u64CD\u4F5C\u6D88\u8017\u7684\u6027\u80FD\u5F88\u5927\uFF0C\u5207\u5FCC\u9891\u7E41\u4F7F\u7528\uFF0C\u6709\u5176\u4ED6\u66FF\u4EE3\u529E\u6CD5\u53EF\u4EE5\u9010\u6B65\u589E\u52A0\u6216\u4FEE\u6539\u3002</p><h2 id="_5-\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E" tabindex="-1">5.\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E <a class="header-anchor" href="#_5-\u56FE\u5C42\u7684\u6837\u5F0F\u8BBE\u7F6E" aria-hidden="true">#</a></h2><p>\u4E3B\u8981\u5206\u4E3ALayout\u548Cpaint\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u7528\u4E8E\u660E\u786E\u56FE\u5C42\u5982\u4F55\u6E32\u67D3\u6570\u636E\uFF0C\u5C31\u76F8\u5F53\u4E8Ecss\uFF0C\u540C\u6837\u662F\u914D\u7F6E\u5316\u3002Layout\u5C5E\u6027\u6307\u6E32\u67D3\u4F4D\u7F6E\u548C\u53EF\u89C1\u6027\uFF0C\u5E94\u7528\u4E8E\u6E32\u67D3\u8FC7\u7A0B\u7684\u65E9\u671F\u9636\u6BB5\u3002paint\u6307\u66F4\u7CBE\u7EC6\u7684\u6E32\u67D3\u6837\u5F0F\uFF0C\u5982\u4E0D\u900F\u660E\u5EA6\u3001\u989C\u8272\u7B49\u3002\u4E0D\u9700\u8981\u5927\u91CF\u5904\u7406\uFF0C\u5728\u540E\u671F\u9636\u6BB5\u8FDB\u884C\u6E32\u67D3\u3002\u4F8B\u5982\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">map.addLayer({</span></span>
<span class="line"><span style="color:#A6ACCD;">    id:&#39;test&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    type:&#39;fill&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    source:...,</span></span>
<span class="line"><span style="color:#A6ACCD;">    layout:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      visibility:&#39;visible&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    },</span></span>
<span class="line"><span style="color:#A6ACCD;">    paint:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;fill-color&#39;:&#39;rgba(61,153,80,0.55)&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  });</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5373\u8868\u793A\u8BBE\u7F6E\u56FE\u5C42\u53EF\u89C1\uFF0C\u8BBE\u7F6E\u9762\u7684\u586B\u5145\u8272\u4E3Argba(61,153,80,0.55)\u3002</p><h2 id="_6-\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F" tabindex="-1">6.\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F <a class="header-anchor" href="#_6-\u56FE\u5C42\u7684\u7279\u6B8A\u8868\u73B0\u5F62\u5F0F" aria-hidden="true">#</a></h2><p>\xA0\xA0\xA0\xA0\u8FD9\u90E8\u5206\u901A\u5E38\u662F\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u6700\u96BE\u7684\u5730\u65B9\uFF0C\u62D3\u5C55\u8981\u6C42\u6700\u591A\uFF0C\u4F8B\u5982\u805A\u5408\u3001 \u805A\u5408\u5217\u8868\u3001\u7279\u6B8A\u7684\u9700\u8981\u7ED3\u5408canvas\u7B49\u5B9E\u73B0\u7684\u529F\u80FD</p><h2 id="_7-\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6" tabindex="-1">7.\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6 <a class="header-anchor" href="#_7-\u5730\u56FE\u7ED1\u5B9A\u4E8B\u4EF6" aria-hidden="true">#</a></h2><p>\xA0\xA0\xA0\xA0\u5730\u56FE\u7ED1\u5B9A\u4E00\u4E9B\u9F20\u6807\u79FB\u5165\u3001\u79FB\u51FA\u3001\u70B9\u51FB\u3001\u6EDA\u52A8\u7F29\u653E\u7B49\u4E8B\u4EF6\uFF0C\u7ED1\u5B9A\u7684\u5BF9\u8C61\u662Fmap\u3002 \u4E00\u65B9\u9762\u53EF\u4EE5\u5BF9\u6574\u4E2A\u5730\u56FE\u7ED1\u5B9A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">this.map.on(&#39;click&#39;,$event=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log($event)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u4E5F\u53EF\u4EE5\u5BF9\u67D0\u4E00\u4E2A\u56FE\u5C42\u8FDB\u884C\u5355\u72EC\u7684\u4E8B\u4EF6\u7ED1\u5B9A\uFF0C\u5982\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">this.map.on(&#39;click&#39;,&#39;tb_basis_info_polygon&#39;,$event=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log($event)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u8FD9\u6837\u53EA\u6709\u5728\u70B9\u51FB\u8FD9\u4E2A\u56FE\u5C42\u7684\u65F6\u5019\u624D\u4F1A\u89E6\u53D1\uFF0C\u5982\u679C\u4E24\u8005\u540C\u65F6\u8BBE\u7F6E\uFF0C\u5219\u89E6\u53D1\u7684\u89C4\u5219\u548CJS\u539F\u751F\u7684\u5192\u6CE1\u4E8B\u4EF6\u4E00\u81F4\u3002</p><h2 id="_8-\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6" tabindex="-1">8.\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6 <a class="header-anchor" href="#_8-\u521B\u5EFA\u5730\u56FE\u4E0A\u5176\u4ED6\u4EA4\u4E92\u7EC4\u4EF6" aria-hidden="true">#</a></h2><p>\xA0\xA0\xA0\xA0\u5982\u56FE\u4F8B\uFF0C\u5730\u56FE\u4E0A\u7684\u5F39\u51FA\u6846\uFF0C\u4FE1\u606F\u6846\uFF0C\u63A7\u5236\u56FE\u5C42\u7684\u6811\u6216\u8005tab\uFF0C\u6307\u5317\u9488\u548C\u653E\u5927\u7F29\u5C0F\u6309\u94AE\u8FD9\u4E9B\u57FA\u7840\u7EC4\u4EF6\u5927\u90E8\u5206\u5730\u56FE\u5F15\u64CE\u81EA\u8EAB\u5305\u542B\uFF0C\u4F46\u9700\u8981\u5B9A\u5236UI\uFF0C\u4E00\u4E9B\u7279\u6B8A\u7684\u8981\u6C42\u4E5F\u9700\u8981\u91CD\u5199\u903B\u8F91\uFF0C\u8FD9\u4E9B\u90FD\u5E94\u8BE5\u5355\u72EC\u4F5C\u4E3A\u7EC4\u4EF6\u3002\u4ED6\u4EEC\u4E4B\u95F4\u7684\u4EA4\u4E92\uFF0C\u4EE5\u53CA\u548C\u5730\u56FE\u7684\u4EA4\u4E92\uFF0C\u6211\u4EEC\u76EE\u524D\u7528\u4E00\u5957Rxjs\u7684\u89C4\u8303\u53BB\u5B9E\u73B0\u7EC4\u4EF6\u95F4\u7684\u901A\u4FE1\u3002\u8FD9\u90E8\u5206\u4E0D\u5C5E\u4E8E\u5730\u56FE\u90E8\u5206\uFF0C\u5148\u4E0D\u505A\u8BE6\u7EC6\u4ECB\u7ECD\u3002</p><h2 id="_9-\u53C2\u8003" tabindex="-1">9.\u53C2\u8003 <a class="header-anchor" href="#_9-\u53C2\u8003" aria-hidden="true">#</a></h2><p>\u66F4\u591A\u8FDB\u9636\u77E5\u8BC6 <a href="https://giser.xyz/mapbox-gl-js-cookbook/advance/" target="_blank" rel="noreferrer">https://giser.xyz/mapbox-gl-js-cookbook/advance/</a></p>`,43),o=[e];function c(t,i,r,C,A,y){return n(),a("div",null,o)}const u=s(p,[["render",c]]);export{D as __pageData,u as default};
